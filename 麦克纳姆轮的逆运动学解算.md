# 麦克纳姆轮的逆运动学解算

> [https://www.guyuehome.com/34385](https://www.guyuehome.com/34385)

(以0-长方形安装方式为例)

## 1仅考虑底盘

| 运动分解量                                                   | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [![img](https://www.guyuehome.com//Uploads/Editor/202107/20210703_81910.png)](https://www.guyuehome.com//Uploads/Editor/202107/20210703_81910.png) | 即实际表现出的运动状态<br>取右为x轴的正方向.<br>上为y轴正方向.<br>逆时针为旋转正方向 |



## 2将底盘运动表现在轮子轴心上

| 单个                                                         | 整体                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [![img](https://www.guyuehome.com//Uploads/Editor/202107/20210703_34677.png)](https://www.guyuehome.com//Uploads/Editor/202107/20210703_34677.png) | [![img](https://www.guyuehome.com//Uploads/Editor/202107/20210703_77497.png)](https://www.guyuehome.com//Uploads/Editor/202107/20210703_77497.png) |

对所有轮子来说.他们的和速度都和底盘一样,由于底盘的旋转.所以在轴心和底盘中心的连线切向有一个Vr,对于轮子来说Vr和Vt构成了它的和速度,由于每一个轮子相对中心的位置不同,所以单个轮子的真实速度方向时不同.



## 3将轮子速度表现辊子上

(以右上角的轮子为例)

| 速度分解                                                     | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [![img](https://www.guyuehome.com//Uploads/Editor/202107/20210703_66002.png)](https://www.guyuehome.com//Uploads/Editor/202107/20210703_66002.png) | 由上文分析可知单个轮子的和速度方向,<br/>由于麦轮和地面实际接触为辊子所以对辊子分解速度<br>由于辊子会绕自身轴滚动,所以垂直于轴的方向的分速度作用于空转不考虑, |



## 4由辊子速度算出轮子(电机)真实转速

| 辊子速度                                                     |
| ------------------------------------------------------------ |
| **[![img](https://www.guyuehome.com//Uploads/Editor/202107/20210703_14839.jpg) |

## 真实转速

$$
V_w =\frac{V_||}{cos45}=\sqrt{2}(-\frac{1}{\sqrt{2}}v_x+\frac{1}{\sqrt{2}}v_y)=-v_x+v_y
$$


$$
v_x = v_tx +wb
$$

$$
v_y=v_yt-wa
$$

$$
v_w1 = v_ty -v_tx +w(a+b)
$$



